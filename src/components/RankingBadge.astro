---
import { getDoctorRankings } from "../lib/ranking";

const { slug } = Astro.props;
const rankings = getDoctorRankings();
const rankData = rankings[slug];

if (!rankData) return null;
---

<div class="ranking-badge">
    <div class="rank-label">
        <span class="rank-number">#{rankData.rank}</span>
        <span class="rank-context">in {rankData.specialty}</span>
    </div>
    <div class="rank-total">
        Top {Math.ceil((rankData.rank / rankData.totalInSpecialty) * 100)}% of {
            rankData.totalInSpecialty
        } Doctors
    </div>
</div>

<style>
    .ranking-badge {
        background: linear-gradient(135deg, #ffd700 0%, #fdb931 100%);
        color: #1a1a1a;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 4px 12px rgba(253, 185, 49, 0.3);
        margin: 1rem 0;
        font-family: var(--font-serif);
    }

    .rank-label {
        font-size: 1.25rem;
        font-weight: 700;
        display: flex;
        align-items: baseline;
        gap: 0.5rem;
    }

    .rank-number {
        font-size: 2rem;
        font-weight: 900;
    }

    .rank-total {
        font-size: 0.8rem;
        font-family: var(--font-sans);
        opacity: 0.9;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
</style>
